{"ast":null,"code":"/* global define */\n'use strict';\n\nexports.__esModule = true;\nvar _utils = require('../utils');\nvar SourceNode = undefined;\ntry {\n  /* istanbul ignore next */\n  if (typeof define !== 'function' || !define.amd) {\n    // We don't support this in AMD environments. For these environments, we asusme that\n    // they are running on the browser and thus have no need for the source-map library.\n    var SourceMap = require('source-map');\n    SourceNode = SourceMap.SourceNode;\n  }\n} catch (err) {}\n/* NOP */\n\n/* istanbul ignore if: tested but not covered in istanbul due to dist build  */\nif (!SourceNode) {\n  SourceNode = function (line, column, srcFile, chunks) {\n    this.src = '';\n    if (chunks) {\n      this.add(chunks);\n    }\n  };\n  /* istanbul ignore next */\n  SourceNode.prototype = {\n    add: function add(chunks) {\n      if (_utils.isArray(chunks)) {\n        chunks = chunks.join('');\n      }\n      this.src += chunks;\n    },\n    prepend: function prepend(chunks) {\n      if (_utils.isArray(chunks)) {\n        chunks = chunks.join('');\n      }\n      this.src = chunks + this.src;\n    },\n    toStringWithSourceMap: function toStringWithSourceMap() {\n      return {\n        code: this.toString()\n      };\n    },\n    toString: function toString() {\n      return this.src;\n    }\n  };\n}\nfunction castChunk(chunk, codeGen, loc) {\n  if (_utils.isArray(chunk)) {\n    var ret = [];\n    for (var i = 0, len = chunk.length; i < len; i++) {\n      ret.push(codeGen.wrap(chunk[i], loc));\n    }\n    return ret;\n  } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {\n    // Handle primitives that the SourceNode will throw up on\n    return chunk + '';\n  }\n  return chunk;\n}\nfunction CodeGen(srcFile) {\n  this.srcFile = srcFile;\n  this.source = [];\n}\nCodeGen.prototype = {\n  isEmpty: function isEmpty() {\n    return !this.source.length;\n  },\n  prepend: function prepend(source, loc) {\n    this.source.unshift(this.wrap(source, loc));\n  },\n  push: function push(source, loc) {\n    this.source.push(this.wrap(source, loc));\n  },\n  merge: function merge() {\n    var source = this.empty();\n    this.each(function (line) {\n      source.add(['  ', line, '\\n']);\n    });\n    return source;\n  },\n  each: function each(iter) {\n    for (var i = 0, len = this.source.length; i < len; i++) {\n      iter(this.source[i]);\n    }\n  },\n  empty: function empty() {\n    var loc = this.currentLocation || {\n      start: {}\n    };\n    return new SourceNode(loc.start.line, loc.start.column, this.srcFile);\n  },\n  wrap: function wrap(chunk) {\n    var loc = arguments.length <= 1 || arguments[1] === undefined ? this.currentLocation || {\n      start: {}\n    } : arguments[1];\n    if (chunk instanceof SourceNode) {\n      return chunk;\n    }\n    chunk = castChunk(chunk, this, loc);\n    return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);\n  },\n  functionCall: function functionCall(fn, type, params) {\n    params = this.generateList(params);\n    return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);\n  },\n  quotedString: function quotedString(str) {\n    return '\"' + (str + '').replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\u2028/g, '\\\\u2028') // Per Ecma-262 7.3 + 7.8.4\n    .replace(/\\u2029/g, '\\\\u2029') + '\"';\n  },\n  objectLiteral: function objectLiteral(obj) {\n    // istanbul ignore next\n\n    var _this = this;\n    var pairs = [];\n    Object.keys(obj).forEach(function (key) {\n      var value = castChunk(obj[key], _this);\n      if (value !== 'undefined') {\n        pairs.push([_this.quotedString(key), ':', value]);\n      }\n    });\n    var ret = this.generateList(pairs);\n    ret.prepend('{');\n    ret.add('}');\n    return ret;\n  },\n  generateList: function generateList(entries) {\n    var ret = this.empty();\n    for (var i = 0, len = entries.length; i < len; i++) {\n      if (i) {\n        ret.add(',');\n      }\n      ret.add(castChunk(entries[i], this));\n    }\n    return ret;\n  },\n  generateArray: function generateArray(entries) {\n    var ret = this.generateList(entries);\n    ret.prepend('[');\n    ret.add(']');\n    return ret;\n  }\n};\nexports['default'] = CodeGen;\nmodule.exports = exports['default'];","map":{"version":3,"mappings":"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","names":["SourceNode","define","amd","SourceMap","require","err","line","column","srcFile","chunks","src","add","prototype","_utils","join","prepend","toStringWithSourceMap","code","toString","castChunk","chunk","codeGen","loc","ret","i","len","length","push","wrap","CodeGen","source","isEmpty","unshift","merge","empty","each","iter","currentLocation","start","functionCall","fn","type","params","generateList","quotedString","str","replace","objectLiteral","obj","pairs","Object","keys","forEach","value","key","_this","entries","generateArray"],"sources":["../../../../lib/handlebars/compiler/code-gen.js"],"sourcesContent":["/* global define */\nimport { isArray } from '../utils';\n\nlet SourceNode;\n\ntry {\n  /* istanbul ignore next */\n  if (typeof define !== 'function' || !define.amd) {\n    // We don't support this in AMD environments. For these environments, we asusme that\n    // they are running on the browser and thus have no need for the source-map library.\n    let SourceMap = require('source-map');\n    SourceNode = SourceMap.SourceNode;\n  }\n} catch (err) {\n  /* NOP */\n}\n\n/* istanbul ignore if: tested but not covered in istanbul due to dist build  */\nif (!SourceNode) {\n  SourceNode = function(line, column, srcFile, chunks) {\n    this.src = '';\n    if (chunks) {\n      this.add(chunks);\n    }\n  };\n  /* istanbul ignore next */\n  SourceNode.prototype = {\n    add: function(chunks) {\n      if (isArray(chunks)) {\n        chunks = chunks.join('');\n      }\n      this.src += chunks;\n    },\n    prepend: function(chunks) {\n      if (isArray(chunks)) {\n        chunks = chunks.join('');\n      }\n      this.src = chunks + this.src;\n    },\n    toStringWithSourceMap: function() {\n      return { code: this.toString() };\n    },\n    toString: function() {\n      return this.src;\n    }\n  };\n}\n\nfunction castChunk(chunk, codeGen, loc) {\n  if (isArray(chunk)) {\n    let ret = [];\n\n    for (let i = 0, len = chunk.length; i < len; i++) {\n      ret.push(codeGen.wrap(chunk[i], loc));\n    }\n    return ret;\n  } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {\n    // Handle primitives that the SourceNode will throw up on\n    return chunk + '';\n  }\n  return chunk;\n}\n\nfunction CodeGen(srcFile) {\n  this.srcFile = srcFile;\n  this.source = [];\n}\n\nCodeGen.prototype = {\n  isEmpty() {\n    return !this.source.length;\n  },\n  prepend: function(source, loc) {\n    this.source.unshift(this.wrap(source, loc));\n  },\n  push: function(source, loc) {\n    this.source.push(this.wrap(source, loc));\n  },\n\n  merge: function() {\n    let source = this.empty();\n    this.each(function(line) {\n      source.add(['  ', line, '\\n']);\n    });\n    return source;\n  },\n\n  each: function(iter) {\n    for (let i = 0, len = this.source.length; i < len; i++) {\n      iter(this.source[i]);\n    }\n  },\n\n  empty: function() {\n    let loc = this.currentLocation || { start: {} };\n    return new SourceNode(loc.start.line, loc.start.column, this.srcFile);\n  },\n  wrap: function(chunk, loc = this.currentLocation || { start: {} }) {\n    if (chunk instanceof SourceNode) {\n      return chunk;\n    }\n\n    chunk = castChunk(chunk, this, loc);\n\n    return new SourceNode(\n      loc.start.line,\n      loc.start.column,\n      this.srcFile,\n      chunk\n    );\n  },\n\n  functionCall: function(fn, type, params) {\n    params = this.generateList(params);\n    return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);\n  },\n\n  quotedString: function(str) {\n    return (\n      '\"' +\n      (str + '')\n        .replace(/\\\\/g, '\\\\\\\\')\n        .replace(/\"/g, '\\\\\"')\n        .replace(/\\n/g, '\\\\n')\n        .replace(/\\r/g, '\\\\r')\n        .replace(/\\u2028/g, '\\\\u2028') // Per Ecma-262 7.3 + 7.8.4\n        .replace(/\\u2029/g, '\\\\u2029') +\n      '\"'\n    );\n  },\n\n  objectLiteral: function(obj) {\n    let pairs = [];\n\n    Object.keys(obj).forEach(key => {\n      let value = castChunk(obj[key], this);\n      if (value !== 'undefined') {\n        pairs.push([this.quotedString(key), ':', value]);\n      }\n    });\n\n    let ret = this.generateList(pairs);\n    ret.prepend('{');\n    ret.add('}');\n    return ret;\n  },\n\n  generateList: function(entries) {\n    let ret = this.empty();\n\n    for (let i = 0, len = entries.length; i < len; i++) {\n      if (i) {\n        ret.add(',');\n      }\n\n      ret.add(castChunk(entries[i], this));\n    }\n\n    return ret;\n  },\n\n  generateArray: function(entries) {\n    let ret = this.generateList(entries);\n    ret.prepend('[');\n    ret.add(']');\n\n    return ret;\n  }\n};\n\nexport default CodeGen;\n"]},"metadata":{},"sourceType":"script"}