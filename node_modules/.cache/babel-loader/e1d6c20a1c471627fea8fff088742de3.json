{"ast":null,"code":"var _ = require('lodash'),\n  EMPTY = '',\n  createAuthInterface;\n\n/**\n * Creates a wrapper around RequestAuth and provides getters and setters helper functions\n *\n * @constructs AuthInterface\n * @param {RequestAuth} auth -\n * @param {Object} protocolProfileBehavior - Protocol profile behaviors\n * @return {AuthInterface}\n * @throws {Error}\n */\ncreateAuthInterface = function (auth, protocolProfileBehavior) {\n  if (!(auth && auth.parameters && auth.parameters())) {\n    throw new Error('runtime~createAuthInterface: invalid auth');\n  }\n  return (/** @lends AuthInterface.prototype **/{\n      /**\n       * @private\n       * @property {protocolProfileBehavior} - Protocol profile behaviors\n       */\n      _protocolProfileBehavior: protocolProfileBehavior || {},\n      /**\n       * @param {String|Array<String>} keys -\n       * @return {*} Returns a value for a key or an object having all keys & values depending on the input\n       * @example\n       * get('foo') // bar\n       * get(['foo', 'alpha']) // {foo: 'bar', 'alpha': 'beta'}\n       */\n      get: function (keys) {\n        var paramVariable;\n        if (_.isString(keys)) {\n          paramVariable = auth.parameters().one(keys);\n          return paramVariable && paramVariable.get();\n        }\n        if (_.isArray(keys)) {\n          return _.transform(keys, function (paramObject, key) {\n            paramVariable = auth.parameters().one(key);\n            paramVariable && (paramObject[key] = paramVariable.get());\n            return paramObject;\n          }, {});\n        }\n        return undefined;\n      },\n      /**\n       * @param {String|Object} key -\n       * @param {*} [value] -\n       * @return {AuthInterface}\n       * @example\n       * set('foo', 'bar')\n       * set({foo: 'bar', 'alpha': 'beta'})\n       * @throws {Error}\n       */\n      set: function (key, value) {\n        var modifiedParams = {},\n          parameters;\n        if (_.isObject(key)) {\n          modifiedParams = key;\n        } else if (_.isString(key)) {\n          modifiedParams[key] = value;\n        } else {\n          throw new Error('runtime~AuthInterface: set should be called with `key` as a string or object');\n        }\n        parameters = auth.parameters();\n        _.forEach(modifiedParams, function (value, key) {\n          var param = parameters.one(key);\n          if (!param) {\n            return parameters.add({\n              key: key,\n              value: value,\n              system: true\n            });\n          }\n\n          // Update if the param is a system property or an empty user property (null, undefined or empty string)\n          if (param.system || param.value === EMPTY || _.isNil(param.value) || _.isNaN(param.value)) {\n            return param.update({\n              key: key,\n              value: value,\n              system: true\n            });\n          }\n        });\n        return this;\n      }\n    }\n  );\n};\nmodule.exports = createAuthInterface;","map":{"version":3,"names":["_","require","EMPTY","createAuthInterface","auth","protocolProfileBehavior","parameters","Error","_protocolProfileBehavior","get","keys","paramVariable","isString","one","isArray","transform","paramObject","key","undefined","set","value","modifiedParams","isObject","forEach","param","add","system","isNil","isNaN","update","module","exports"],"sources":["/Users/Qusai.Qishta/node_modules/postman-runtime/lib/authorizer/auth-interface.js"],"sourcesContent":["var _ = require('lodash'),\n    EMPTY = '',\n    createAuthInterface;\n\n/**\n * Creates a wrapper around RequestAuth and provides getters and setters helper functions\n *\n * @constructs AuthInterface\n * @param {RequestAuth} auth -\n * @param {Object} protocolProfileBehavior - Protocol profile behaviors\n * @return {AuthInterface}\n * @throws {Error}\n */\ncreateAuthInterface = function (auth, protocolProfileBehavior) {\n    if (!(auth && auth.parameters && auth.parameters())) {\n        throw new Error('runtime~createAuthInterface: invalid auth');\n    }\n\n    return /** @lends AuthInterface.prototype **/{\n        /**\n         * @private\n         * @property {protocolProfileBehavior} - Protocol profile behaviors\n         */\n        _protocolProfileBehavior: protocolProfileBehavior || {},\n\n        /**\n         * @param {String|Array<String>} keys -\n         * @return {*} Returns a value for a key or an object having all keys & values depending on the input\n         * @example\n         * get('foo') // bar\n         * get(['foo', 'alpha']) // {foo: 'bar', 'alpha': 'beta'}\n         */\n        get: function (keys) {\n            var paramVariable;\n\n            if (_.isString(keys)) {\n                paramVariable = auth.parameters().one(keys);\n\n                return paramVariable && paramVariable.get();\n            }\n            if (_.isArray(keys)) {\n                return _.transform(keys, function (paramObject, key) {\n                    paramVariable = auth.parameters().one(key);\n                    paramVariable && (paramObject[key] = paramVariable.get());\n\n                    return paramObject;\n                }, {});\n            }\n\n            return undefined;\n        },\n\n        /**\n         * @param {String|Object} key -\n         * @param {*} [value] -\n         * @return {AuthInterface}\n         * @example\n         * set('foo', 'bar')\n         * set({foo: 'bar', 'alpha': 'beta'})\n         * @throws {Error}\n         */\n        set: function (key, value) {\n            var modifiedParams = {},\n                parameters;\n\n            if (_.isObject(key)) {\n                modifiedParams = key;\n            }\n            else if (_.isString(key)) {\n                modifiedParams[key] = value;\n            }\n            else {\n                throw new Error('runtime~AuthInterface: set should be called with `key` as a string or object');\n            }\n\n            parameters = auth.parameters();\n            _.forEach(modifiedParams, function (value, key) {\n                var param = parameters.one(key);\n\n                if (!param) {\n                    return parameters.add({ key: key, value: value, system: true });\n                }\n\n                // Update if the param is a system property or an empty user property (null, undefined or empty string)\n                if (param.system || param.value === EMPTY || _.isNil(param.value) || _.isNaN(param.value)) {\n                    return param.update({ key: key, value: value, system: true });\n                }\n            });\n\n            return this;\n        }\n    };\n};\n\nmodule.exports = createAuthInterface;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}