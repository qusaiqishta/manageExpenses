{"ast":null,"code":"// Browser Request\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* eslint-disable */\nvar _ = require('lodash');\nvar parseHeadersString = require('postman-collection').Header.parse;\nrequest.log = {\n  'trace': noop,\n  'debug': noop,\n  'info': noop,\n  'warn': noop,\n  'error': noop\n};\nvar CORS_ERROR_CODE = 'ERR_PM_CORS'; // Custom error code for CORS errors\nvar MIXED_CONTENT_ERROR_CODE = 'ERR_PM_MIXED_CONTENT'; // Custom error code for mixed content error\nvar DEFAULT_TIMEOUT = 3 * 60 * 1000; // 3 minutes\n\n// The body is ignored if the request method is GET or HEAD.\n// Refer: https://xhr.spec.whatwg.org/#the-send()-method\nvar METHODS_WITHOUT_BODY = {\n  'GET': true,\n  'HEAD': true\n};\n\n// Refer: https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name\nvar FORBIDDEN_HEADERS = {\n  'accept-charset': true,\n  'accept-encoding': true,\n  'access-control-request-headers': true,\n  'access-control-request-method': true,\n  connection: true,\n  'content-length': true,\n  cookie: true,\n  cookie2: true,\n  date: true,\n  dnt: true,\n  expect: true,\n  'feature-policy': true,\n  host: true,\n  'keep-alive': true,\n  origin: true,\n  referer: true,\n  te: true,\n  trailer: true,\n  'transfer-encoding': true,\n  upgrade: true,\n  via: true\n};\nvar IS_LOCALHOST = {\n  'localhost': true,\n  '127.0.0.1': true,\n  '127.1': true,\n  '[::1]': true\n};\nfunction forEachAsync(items, fn, cb) {\n  !cb && (cb = function () {/* (ಠ_ಠ) */});\n  if (!(Array.isArray(items) && fn)) {\n    return cb();\n  }\n  var index = 0;\n  var totalItems = items.length;\n  function next(err) {\n    if (err || index >= totalItems) {\n      return cb(err);\n    }\n    try {\n      fn.call(items, items[index++], next);\n    } catch (error) {\n      return cb(error);\n    }\n  }\n  if (!totalItems) {\n    return cb();\n  }\n  next();\n}\n\n//\n// request\n//\n\nfunction request(originalRequest, options, onStart, callback) {\n  var options_onResponse = options.onResponse; // Save this for later.\n  var XHR = _.get(options, ['agents', options.url && options.url.protocol.slice(0, -1), 'agentClass']) || XMLHttpRequest;\n  if (typeof options === 'string') options = {\n    'uri': options\n  };else options = _.clone(options); // Use a duplicate for mutating.\n\n  options.onResponse = options_onResponse; // And put it back.\n\n  if (options.verbose) request.log = getLogger();\n  if (options.url) {\n    options.uri = options.url && options.url.href || options.url;\n    delete options.url;\n  }\n  if (!options.uri && options.uri !== \"\") return callback(new Error(\"options.uri is a required argument\"));\n  if (typeof options.uri != \"string\") return callback(new Error(\"options.uri must be a string\"));\n  options.onStart = onStart;\n  options.callback = callback;\n  options.method = options.method || 'GET';\n  options.headers = _.reduce(options.headers || {}, function (accumulator, value, key) {\n    if (!XHR._allowForbiddenHeaders && isForbiddenHeader(key)) {\n      // mutate original request and options as these will be passed in the\n      // request and response callbacks.\n      originalRequest.headers.remove(key);\n      delete options.headers[key];\n      return accumulator;\n    }\n    accumulator[key] = value;\n    return accumulator;\n  }, {});\n  options.body = options.body || null;\n  options.timeout = options.timeout || request.DEFAULT_TIMEOUT;\n  if (options.headers.host) console.warn(\"Request: Options.headers.host is not supported\");\n  if (options.json) {\n    options.headers.accept = options.headers.accept || 'application/json';\n    if (options.method !== 'GET') options.headers['content-type'] = 'application/json';\n    if (typeof options.json !== 'boolean') options.body = JSON.stringify(options.json);else if (typeof options.body !== 'string') options.body = JSON.stringify(options.body);\n  }\n\n  //BEGIN QS Hack\n  var serialize = function (obj) {\n    var str = [];\n    for (var p in obj) if (obj.hasOwnProperty(p)) {\n      if (_.isArray(obj[p])) {\n        _.forEach(obj[p], function (value) {\n          str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(value));\n        });\n      } else {\n        str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n      }\n    }\n    return str.join(\"&\");\n  };\n  if (options.qs) {\n    var qs = typeof options.qs == 'string' ? options.qs : serialize(options.qs);\n    if (options.uri.indexOf('?') !== -1) {\n      //no get params\n      options.uri = options.uri + '&' + qs;\n    } else {\n      //existing get params\n      options.uri = options.uri + '?' + qs;\n    }\n  }\n  //END QS Hack\n\n  //BEGIN FORM Hack\n  var multipart = function (data) {\n    if (!Array.isArray(data)) {\n      return;\n    }\n    var i,\n      ii,\n      formParam,\n      formData = new FormData();\n    for (i = 0, ii = data.length; i < ii; i++) {\n      if (!(formParam = data[i])) {\n        continue;\n      }\n      if (Array.isArray(formParam.value)) {\n        formParam.value.forEach(function (value) {\n          formData.append(formParam.key, value);\n        });\n      } else {\n        formData.append(formParam.key, formParam.value);\n      }\n    }\n    return {\n      body: formData\n    };\n  };\n  if (options.form) {\n    if (typeof options.form == 'string') {\n      console.warn('form name unsupported');\n    }\n    if (XHR._allowBodyInGET || !METHODS_WITHOUT_BODY[options.method]) {\n      var encoding = (options.encoding || 'application/x-www-form-urlencoded').toLowerCase();\n      if (!options.headers['content-type'] && !options.headers['Content-Type']) {\n        options.headers['content-type'] = encoding;\n      }\n      switch (encoding) {\n        case 'application/x-www-form-urlencoded':\n          options.body = serialize(options.form).replace(/%20/g, \"+\");\n          break;\n        case 'multipart/form-data':\n          var multi = multipart(options.form);\n          //options.headers['content-length'] = multi.length;\n          options.body = multi.body;\n          options.headers['content-type'] = multi.type;\n          break;\n        default:\n          console.warn('unsupported encoding:' + encoding);\n      }\n    }\n  }\n  if (options.formData && (XHR._allowBodyInGET || !METHODS_WITHOUT_BODY[options.method])) {\n    var multipartBody = multipart(options.formData);\n    //options.headers['content-length'] = multipartBody.length;\n    options.body = multipartBody.body;\n    multipartBody.type && (options.headers['content-type'] = multipartBody.type);\n  }\n  //END FORM Hack\n\n  // If onResponse is boolean true, call back immediately when the response is known,\n  // not when the full request is complete.\n  options.onResponse = options.onResponse || noop;\n  if (options.onResponse === true) {\n    options.onResponse = callback;\n    options.callback = noop;\n  }\n\n  // XXX Browsers do not like this.\n  //if(options.body)\n  //  options.headers['content-length'] = options.body.length;\n\n  // HTTP basic authentication\n  if (!options.headers.authorization && options.auth) options.headers.authorization = 'Basic ' + b64_enc(options.auth.username + ':' + options.auth.password);\n\n  // Query cookie jar if available\n  if (typeof (options.jar && options.jar.getCookieString) === 'function') {\n    options.jar.getCookieString(options.uri, function (_, cookies) {\n      if (cookies && cookies.length) {\n        options.cookiesFromJar = cookies;\n      }\n      run_xhr(XHR, originalRequest, options);\n    });\n  } else {\n    return run_xhr(XHR, originalRequest, options);\n  }\n}\nvar req_seq = 0;\nfunction run_xhr(XHR, originalRequest, options) {\n  var xhr = new XHR(options),\n    timed_out = false,\n    is_cors = is_crossDomain(options.uri),\n    supports_cors = ('withCredentials' in xhr);\n  req_seq += 1;\n  xhr.seq_id = req_seq;\n  xhr.id = req_seq + ': ' + options.method + ' ' + options.uri;\n  xhr._id = xhr.id; // I know I will type \"_id\" from habit all the time.\n\n  if (is_cors && !supports_cors) {\n    // This should never happen in our app\n    var cors_err = new Error('Browser does not support cross-origin request: ' + options.uri);\n    cors_err.code = CORS_ERROR_CODE;\n    cors_err.cors = 'unsupported';\n    options.callback(cors_err, xhr);\n    return xhr;\n  }\n  xhr.timeoutTimer = setTimeout(too_late, options.timeout);\n  function too_late() {\n    timed_out = true;\n    var er = new Error('ETIMEDOUT');\n    er.code = 'ETIMEDOUT';\n    er.duration = options.timeout;\n    request.log.error('Timeout', {\n      'id': xhr._id,\n      'milliseconds': options.timeout\n    });\n    return options.callback(er, xhr);\n  }\n\n  // Some states can be skipped over, so remember what is still incomplete.\n  var did = {\n    'response': false,\n    'loading': false,\n    'end': false,\n    'onStart': false\n  };\n  xhr.onreadystatechange = on_state_change;\n  xhr.open(options.method, options.uri, true); // asynchronous\n  if (is_cors) {\n    xhr.withCredentials = !!options.withCredentials;\n  }\n  options.encoding === null && (xhr.responseType = \"arraybuffer\");\n  xhr.send(options.body);\n  return xhr;\n  function on_state_change(event) {\n    if (timed_out) return request.log.debug('Ignoring timed out state change', {\n      'state': xhr.readyState,\n      'id': xhr.id\n    });\n    request.log.debug('State change', {\n      'state': xhr.readyState,\n      'id': xhr.id,\n      'timed_out': timed_out\n    });\n    if (xhr.readyState === XHR.OPENED) {\n      request.log.debug('Request started', {\n        'id': xhr.id\n      });\n      var cookies = [],\n        onInvalidHeader = function (key, error) {\n          error = new Error(`Header \"${key}\" contains invalid characters`);\n\n          // Do not process this request further.\n          did.response = true;\n          did.loading = true;\n          did.end = true;\n          options.callback(error, xhr);\n        };\n      for (var key in options.headers) {\n        if (!options.headers.hasOwnProperty(key)) {\n          continue;\n        }\n\n        // Save all the cookies and add at the end because\n        if (String(key).toLowerCase() === 'cookie') {\n          cookies.push(options.headers[key]);\n          continue;\n        }\n        try {\n          if (Array.isArray(options.headers[key])) {\n            _.forEach(options.headers[key], function (eachValue) {\n              xhr.setRequestHeader(key, eachValue);\n            });\n          } else {\n            xhr.setRequestHeader(key, options.headers[key]);\n          }\n        } catch (error) {\n          onInvalidHeader(key, error);\n        }\n      }\n\n      // Add `Cookie` header if cookies are present\n      if (cookies.length || options.cookiesFromJar) {\n        try {\n          var cookieString = cookies.join('; ') + (options.cookiesFromJar || '');\n          xhr.setRequestHeader('Cookie', cookieString);\n          // Also add update the original request header for console logs\n          originalRequest.headers.upsert({\n            key: 'Cookie',\n            value: cookieString\n          });\n        } catch (error) {\n          onInvalidHeader('Cookie', error);\n        }\n      }\n    } else if (xhr.readyState === XHR.HEADERS_RECEIVED) on_response();else if (xhr.readyState === XHR.LOADING) {\n      on_response();\n      on_loading();\n    } else if (xhr.readyState === XHR.DONE) {\n      on_response();\n      on_loading();\n      on_end();\n    }\n  }\n  function on_response() {\n    if (did.response) return;\n    did.response = true;\n    request.log.debug('Got response', {\n      'id': xhr.id,\n      'status': xhr.status\n    });\n    clearTimeout(xhr.timeoutTimer);\n    xhr.statusCode = xhr.status; // Node request compatibility\n\n    // Construct postman-request compatible debug object\n    !xhr.request && (xhr.request = {});\n    xhr.request._debug = xhr._debugData || [{\n      request: {\n        method: options.method,\n        href: options.uri,\n        headers: originalRequest.headers.toJSON(),\n        httpVersion: '1.1'\n      },\n      response: {\n        statusCode: xhr.statusCode,\n        headers: parseHeadersString(xhr.getAllResponseHeaders()),\n        httpVersion: '1.1'\n      }\n    }];\n    if (xhr.statusCode === 0 && xhr._error) {\n      // Do not process this request further.\n      did.loading = true;\n      did.end = true;\n      return options.callback(xhr._error, xhr);\n    }\n\n    // Detect mixed content failure\n    if (xhr.statusCode === 0 && is_mixedContent(options.uri)) {\n      var mixedContent_err = new Error('Mixed Content request rejected: ' + options.uri);\n      mixedContent_err.code = MIXED_CONTENT_ERROR_CODE;\n\n      // Do not process this request further.\n      did.loading = true;\n      did.end = true;\n      return options.callback(mixedContent_err, xhr);\n    }\n\n    // Detect failed CORS requests.\n    if (is_cors && xhr.statusCode == 0) {\n      var cors_err = new Error('CORS request rejected: ' + options.uri);\n      cors_err.code = CORS_ERROR_CODE;\n      cors_err.cors = 'rejected';\n\n      // Do not process this request further.\n      did.loading = true;\n      did.end = true;\n      return options.callback(cors_err, xhr);\n    }\n    function done() {\n      // Trigger onStart before callback\n      did.onStart = true;\n      options.onStart(xhr);\n      options.onResponse(null, xhr);\n\n      // Due to the weird dependency of `onStart` and `callback` order,\n      // we ensure that callback is not called before onStart.\n      // This happens only if we are waiting for cookies to be added into the cookie jar.\n      typeof did.callback === 'function' && did.callback();\n    }\n\n    // We are all done here if the cookie jar is not available\n    if (!(typeof (options.jar && options.jar.setCookie) === 'function')) {\n      return done();\n    }\n\n    // Add cookies into the jar\n\n    var addCookie = function (cookie, cb) {\n        options.jar.setCookie(cookie, options.uri, {\n          ignoreError: true\n        }, function () {\n          cb();\n        });\n      },\n      getSetCookieHeaders = function (headersString) {\n        var cookies = [];\n        (parseHeadersString(headersString) || []).filter(function (header) {\n          if (String(header && header.key).toLowerCase() === 'set-cookie') {\n            cookies.push(header.value);\n          }\n        });\n        return cookies;\n      },\n      cookies = getSetCookieHeaders(xhr.getAllResponseHeaders());\n    if (!(cookies && cookies.length)) {\n      return done();\n    }\n    forEachAsync(cookies, addCookie, function () {\n      done();\n    });\n  }\n  function on_loading() {\n    if (did.loading) return;\n    did.loading = true;\n    request.log.debug('Response body loading', {\n      'id': xhr.id\n    });\n    // TODO: Maybe simulate \"data\" events by watching xhr.responseText\n  }\n\n  function on_end() {\n    if (did.end) return;\n    did.end = true;\n    request.log.debug('Request done', {\n      'id': xhr.id\n    });\n    xhr.body = options.encoding === null ? xhr.response : xhr.responseText;\n    if (options.json) {\n      try {\n        xhr.body = xhr.responseText ? JSON.parse(xhr.responseText) : xhr.responseText;\n      } catch (er) {\n        return options.callback(er, xhr);\n      }\n    }\n\n    // Call the final callback if `onStart` is already called\n    if (did.onStart) {\n      options.callback(null, xhr, xhr.body, xhr.request && xhr.request._debug);\n    }\n    // otherwise, save the callback which will be triggered later in the `done` function\n    else {\n      did.callback = options.callback.bind(this, null, xhr, xhr.body, xhr.request && xhr.request._debug);\n    }\n  }\n} // request\n\nrequest.withCredentials = false;\nrequest.DEFAULT_TIMEOUT = DEFAULT_TIMEOUT;\nvar shortcuts = ['get', 'post', 'put', 'head', 'del', 'options', 'trace', 'copy', 'lock', 'mkcol', 'move', 'purge', 'propfind', 'proppatch', 'unlock', 'report', 'mkactivity', 'checkout', 'merge', 'm-search', 'notify', 'subscribe', 'unsubscribe', 'patch', 'search'];\nvar shortcutsToMethods = {\n  'del': 'delete'\n};\n\n//\n// defaults\n//\n\nrequest.defaults = function (options, requester) {\n  var def = function (method) {\n    var d = function (params, callback) {\n      if (typeof params === 'string') params = {\n        'uri': params\n      };else {\n        params = JSON.parse(JSON.stringify(params));\n      }\n      for (var i in options) {\n        if (params[i] === undefined) params[i] = options[i];\n      }\n      return method(params, callback);\n    };\n    return d;\n  };\n  var de = def(request);\n  shortcuts.forEach(function (method) {\n    de[method] = def(request[method]);\n  });\n  return de;\n};\n\n//\n// HTTP method shortcuts\n//\n\nshortcuts.forEach(function (shortcut) {\n  var method = shortcutsToMethods[shortcut] || shortcut;\n  method = method.toUpperCase();\n  var func = shortcut.toLowerCase();\n  request[func] = function (opts) {\n    if (typeof opts === 'string') opts = {\n      'method': method,\n      'uri': opts\n    };else {\n      opts = JSON.parse(JSON.stringify(opts));\n      opts.method = method;\n    }\n    var args = [opts].concat(Array.prototype.slice.apply(arguments, [1]));\n    return request.apply(this, args);\n  };\n});\n\n//\n// CouchDB shortcut\n//\n\nrequest.couch = function (options, callback) {\n  if (typeof options === 'string') options = {\n    'uri': options\n  };\n\n  // Just use the request API to do JSON.\n  options.json = true;\n  if (options.body) options.json = options.body;\n  delete options.body;\n  callback = callback || noop;\n  var xhr = request(options, couch_handler);\n  return xhr;\n  function couch_handler(er, resp, body) {\n    if (er) return callback(er, resp, body);\n    if ((resp.statusCode < 200 || resp.statusCode > 299) && body.error) {\n      // The body is a Couch JSON object indicating the error.\n      er = new Error('CouchDB error: ' + (body.error.reason || body.error.error));\n      for (var key in body) er[key] = body[key];\n      return callback(er, resp, body);\n    }\n    return callback(er, resp, body);\n  }\n};\n\n//\n// Utility\n//\n\nfunction noop() {}\nfunction getLogger() {\n  var logger = {},\n    levels = ['trace', 'debug', 'info', 'warn', 'error'],\n    level,\n    i;\n  for (i = 0; i < levels.length; i++) {\n    level = levels[i];\n    logger[level] = noop;\n    if (typeof console !== 'undefined' && console && console[level]) logger[level] = formatted(console, level);\n  }\n  return logger;\n}\nfunction formatted(obj, method) {\n  return formatted_logger;\n  function formatted_logger(str, context) {\n    if (typeof context === 'object') str += ' ' + JSON.stringify(context);\n    return obj[method].call(obj, str);\n  }\n}\nfunction window_location() {\n  // jQuery #8138, IE may throw an exception when accessing\n  // a field from window.location if document.domain has been set\n  var ajaxLocation;\n  try {\n    ajaxLocation = location.href;\n  } catch (e) {\n    // Use the href attribute of an A element since IE will modify it given document.location\n    ajaxLocation = document.createElement(\"a\");\n    ajaxLocation.href = \"\";\n    ajaxLocation = ajaxLocation.href;\n  }\n  return ajaxLocation;\n}\n\n// Return whether a URL is a cross-domain request.\nfunction is_crossDomain(url) {\n  var rurl = /^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/,\n    ajaxLocation = window_location(),\n    ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [],\n    parts = rurl.exec(url.toLowerCase());\n  var result = !!(parts && (parts[1] != ajaxLocParts[1] || parts[2] != ajaxLocParts[2] || (parts[3] || (parts[1] === \"http:\" ? 80 : 443)) != (ajaxLocParts[3] || (ajaxLocParts[1] === \"http:\" ? 80 : 443))));\n\n  //console.debug('is_crossDomain('+url+') -> ' + result)\n  return result;\n}\nfunction is_mixedContent(url) {\n  var rurl = /^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/,\n    ajaxLocation = window_location(),\n    ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [],\n    parts = rurl.exec(url.toLowerCase());\n  return parts[1] != ajaxLocParts[1] && !IS_LOCALHOST[parts[2]];\n}\n\n// MIT License from http://phpjs.org/functions/base64_encode:358\nfunction b64_enc(data) {\n  // Encodes string using MIME base64 algorithm\n  var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  var o1,\n    o2,\n    o3,\n    h1,\n    h2,\n    h3,\n    h4,\n    bits,\n    i = 0,\n    ac = 0,\n    enc = \"\",\n    tmp_arr = [];\n  if (!data) {\n    return data;\n  }\n\n  // assume utf8 data\n  // data = this.utf8_encode(data+'');\n\n  do {\n    // pack three octets into four hexets\n    o1 = data.charCodeAt(i++);\n    o2 = data.charCodeAt(i++);\n    o3 = data.charCodeAt(i++);\n    bits = o1 << 16 | o2 << 8 | o3;\n    h1 = bits >> 18 & 0x3f;\n    h2 = bits >> 12 & 0x3f;\n    h3 = bits >> 6 & 0x3f;\n    h4 = bits & 0x3f;\n\n    // use hexets to index into b64, and append result to encoded string\n    tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n  } while (i < data.length);\n  enc = tmp_arr.join('');\n  switch (data.length % 3) {\n    case 1:\n      enc = enc.slice(0, -2) + '==';\n      break;\n    case 2:\n      enc = enc.slice(0, -1) + '=';\n      break;\n  }\n  return enc;\n}\n\n// Check if given header name is forbidden i.e, cannot be modified programmatically.\n// Refer: https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name\n// @note The User-Agent header is no longer forbidden. However,\n// Chrome will silently drop the header: https://bugs.chromium.org/p/chromium/issues/detail?id=571722\nfunction isForbiddenHeader(headerName) {\n  headerName = String(headerName).toLowerCase();\n  return FORBIDDEN_HEADERS[headerName] || headerName.startsWith('proxy-') || headerName.startsWith('sec-');\n}\n\n// ensure that the .jar() function is available\nrequest.jar = _.noop;\nmodule.exports = request;","map":{"version":3,"names":["_","require","parseHeadersString","Header","parse","request","log","noop","CORS_ERROR_CODE","MIXED_CONTENT_ERROR_CODE","DEFAULT_TIMEOUT","METHODS_WITHOUT_BODY","FORBIDDEN_HEADERS","connection","cookie","cookie2","date","dnt","expect","host","origin","referer","te","trailer","upgrade","via","IS_LOCALHOST","forEachAsync","items","fn","cb","Array","isArray","index","totalItems","length","next","err","call","error","originalRequest","options","onStart","callback","options_onResponse","onResponse","XHR","get","url","protocol","slice","XMLHttpRequest","clone","verbose","getLogger","uri","href","Error","method","headers","reduce","accumulator","value","key","_allowForbiddenHeaders","isForbiddenHeader","remove","body","timeout","console","warn","json","accept","JSON","stringify","serialize","obj","str","p","hasOwnProperty","forEach","push","encodeURIComponent","join","qs","indexOf","multipart","data","i","ii","formParam","formData","FormData","append","form","_allowBodyInGET","encoding","toLowerCase","replace","multi","type","multipartBody","authorization","auth","b64_enc","username","password","jar","getCookieString","cookies","cookiesFromJar","run_xhr","req_seq","xhr","timed_out","is_cors","is_crossDomain","supports_cors","seq_id","id","_id","cors_err","code","cors","timeoutTimer","setTimeout","too_late","er","duration","did","onreadystatechange","on_state_change","open","withCredentials","responseType","send","event","debug","readyState","OPENED","onInvalidHeader","response","loading","end","String","eachValue","setRequestHeader","cookieString","upsert","HEADERS_RECEIVED","on_response","LOADING","on_loading","DONE","on_end","status","clearTimeout","statusCode","_debug","_debugData","toJSON","httpVersion","getAllResponseHeaders","_error","is_mixedContent","mixedContent_err","done","setCookie","addCookie","ignoreError","getSetCookieHeaders","headersString","filter","header","responseText","bind","shortcuts","shortcutsToMethods","defaults","requester","def","d","params","undefined","de","shortcut","toUpperCase","func","opts","args","concat","prototype","apply","arguments","couch","couch_handler","resp","reason","logger","levels","level","formatted","formatted_logger","context","window_location","ajaxLocation","location","e","document","createElement","rurl","ajaxLocParts","exec","parts","result","b64","o1","o2","o3","h1","h2","h3","h4","bits","ac","enc","tmp_arr","charCodeAt","charAt","headerName","startsWith","module","exports"],"sources":["/Users/Qusai.Qishta/node_modules/postman-runtime/lib/requester/browser/request.js"],"sourcesContent":["// Browser Request\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* eslint-disable */\nvar _ = require('lodash');\nvar parseHeadersString = require('postman-collection').Header.parse;\nrequest.log = {\n    'trace': noop, 'debug': noop, 'info': noop, 'warn': noop, 'error': noop\n}\n\nvar CORS_ERROR_CODE = 'ERR_PM_CORS'; // Custom error code for CORS errors\nvar MIXED_CONTENT_ERROR_CODE = 'ERR_PM_MIXED_CONTENT'; // Custom error code for mixed content error\nvar DEFAULT_TIMEOUT = 3 * 60 * 1000 // 3 minutes\n\n// The body is ignored if the request method is GET or HEAD.\n// Refer: https://xhr.spec.whatwg.org/#the-send()-method\nvar METHODS_WITHOUT_BODY = {\n    'GET': true,\n    'HEAD': true\n};\n\n// Refer: https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name\nvar FORBIDDEN_HEADERS = {\n    'accept-charset': true,\n    'accept-encoding': true,\n    'access-control-request-headers': true,\n    'access-control-request-method': true,\n    connection: true,\n    'content-length': true,\n    cookie: true,\n    cookie2: true,\n    date: true,\n    dnt: true,\n    expect: true,\n    'feature-policy': true,\n    host: true,\n    'keep-alive': true,\n    origin: true,\n    referer: true,\n    te: true,\n    trailer: true,\n    'transfer-encoding': true,\n    upgrade: true,\n    via: true\n};\n\nvar IS_LOCALHOST = {\n    'localhost': true,\n    '127.0.0.1': true,\n    '127.1': true,\n    '[::1]': true\n};\n\nfunction forEachAsync (items, fn, cb) {\n    !cb && (cb = function () { /* (ಠ_ಠ) */ })\n\n    if (!(Array.isArray(items) && fn)) { return cb() }\n\n    var index = 0\n    var totalItems = items.length\n    function next (err) {\n      if (err || index >= totalItems) {\n        return cb(err)\n      }\n\n      try {\n        fn.call(items, items[index++], next)\n      } catch (error) {\n        return cb(error)\n      }\n    }\n\n    if (!totalItems) { return cb() }\n\n    next()\n}\n\n//\n// request\n//\n\nfunction request(originalRequest, options, onStart, callback) {\n    var options_onResponse = options.onResponse; // Save this for later.\n    var XHR = _.get(options, ['agents', options.url && options.url.protocol.slice(0, -1), 'agentClass']) || XMLHttpRequest;\n\n    if(typeof options === 'string')\n        options = {'uri':options};\n    else\n        options = _.clone(options); // Use a duplicate for mutating.\n\n    options.onResponse = options_onResponse // And put it back.\n\n    if (options.verbose) request.log = getLogger();\n\n    if(options.url) {\n        options.uri = options.url && options.url.href || options.url;\n        delete options.url;\n    }\n\n    if(!options.uri && options.uri !== \"\")\n        return callback(new Error(\"options.uri is a required argument\"));\n\n    if(typeof options.uri != \"string\")\n        return callback(new Error(\"options.uri must be a string\"));\n\n    options.onStart = onStart\n    options.callback = callback\n    options.method = options.method || 'GET';\n    options.headers = _.reduce(options.headers || {}, function (accumulator, value, key) {\n        if (!XHR._allowForbiddenHeaders && isForbiddenHeader(key)) {\n            // mutate original request and options as these will be passed in the\n            // request and response callbacks.\n            originalRequest.headers.remove(key);\n            delete options.headers[key];\n\n            return accumulator;\n        }\n\n        accumulator[key] = value;\n        return accumulator;\n    }, {});\n    options.body    = options.body || null\n    options.timeout = options.timeout || request.DEFAULT_TIMEOUT\n\n    if(options.headers.host)\n        console.warn(\"Request: Options.headers.host is not supported\");\n\n    if(options.json) {\n        options.headers.accept = options.headers.accept || 'application/json'\n        if(options.method !== 'GET')\n            options.headers['content-type'] = 'application/json'\n\n        if(typeof options.json !== 'boolean')\n            options.body = JSON.stringify(options.json)\n        else if(typeof options.body !== 'string')\n            options.body = JSON.stringify(options.body)\n    }\n\n    //BEGIN QS Hack\n    var serialize = function(obj) {\n        var str = [];\n        for(var p in obj)\n            if (obj.hasOwnProperty(p)) {\n                if (_.isArray(obj[p])) {\n                    _.forEach(obj[p], function (value) {\n                        str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(value));\n                    });\n                }\n                else {\n                    str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n                }\n            }\n        return str.join(\"&\");\n    }\n\n    if(options.qs){\n        var qs = (typeof options.qs == 'string')? options.qs : serialize(options.qs);\n        if(options.uri.indexOf('?') !== -1){ //no get params\n            options.uri = options.uri+'&'+qs;\n        }else{ //existing get params\n            options.uri = options.uri+'?'+qs;\n        }\n    }\n    //END QS Hack\n\n    //BEGIN FORM Hack\n    var multipart = function (data) {\n        if (!Array.isArray(data)) { return; }\n\n        var i,\n            ii,\n            formParam,\n            formData = new FormData();\n\n        for (i = 0, ii = data.length; i < ii; i++) {\n            if (!(formParam = data[i])) { continue; }\n\n            if (Array.isArray(formParam.value)) {\n                formParam.value.forEach(function (value) {\n                    formData.append(formParam.key, value);\n                });\n            }\n            else {\n                formData.append(formParam.key, formParam.value);\n            }\n        }\n\n        return {\n            body: formData\n        };\n    };\n\n    if(options.form){\n        if(typeof options.form == 'string') {\n            console.warn('form name unsupported');\n        }\n        if(XHR._allowBodyInGET || !METHODS_WITHOUT_BODY[options.method]) {\n            var encoding = (options.encoding || 'application/x-www-form-urlencoded').toLowerCase();\n\n            if (!options.headers['content-type'] && !options.headers['Content-Type']) {\n                options.headers['content-type'] = encoding;\n            }\n\n            switch(encoding){\n                case 'application/x-www-form-urlencoded':\n                    options.body = serialize(options.form).replace(/%20/g, \"+\");\n                    break;\n                case 'multipart/form-data':\n                    var multi = multipart(options.form);\n                    //options.headers['content-length'] = multi.length;\n                    options.body = multi.body;\n                    options.headers['content-type'] = multi.type;\n                    break;\n                default : console.warn('unsupported encoding:'+encoding);\n            }\n        }\n    }\n    if (options.formData && (XHR._allowBodyInGET || !METHODS_WITHOUT_BODY[options.method])) {\n        var multipartBody = multipart(options.formData);\n        //options.headers['content-length'] = multipartBody.length;\n        options.body = multipartBody.body;\n        multipartBody.type && (options.headers['content-type'] = multipartBody.type);\n    }\n    //END FORM Hack\n\n    // If onResponse is boolean true, call back immediately when the response is known,\n    // not when the full request is complete.\n    options.onResponse = options.onResponse || noop\n    if(options.onResponse === true) {\n        options.onResponse = callback\n        options.callback = noop\n    }\n\n    // XXX Browsers do not like this.\n    //if(options.body)\n    //  options.headers['content-length'] = options.body.length;\n\n    // HTTP basic authentication\n    if(!options.headers.authorization && options.auth)\n        options.headers.authorization = 'Basic ' + b64_enc(options.auth.username + ':' + options.auth.password);\n\n\n    // Query cookie jar if available\n    if ((typeof (options.jar && options.jar.getCookieString) === 'function')) {\n        options.jar.getCookieString(options.uri, function (_, cookies) {\n            if (cookies && cookies.length) {\n                options.cookiesFromJar = cookies;\n            }\n\n            run_xhr(XHR, originalRequest, options)\n        })\n    }\n    else {\n        return run_xhr(XHR, originalRequest, options)\n    }\n}\n\nvar req_seq = 0\nfunction run_xhr(XHR, originalRequest, options) {\n    var xhr = new XHR(options)\n        , timed_out = false\n        , is_cors = is_crossDomain(options.uri)\n        , supports_cors = ('withCredentials' in xhr)\n\n    req_seq += 1\n    xhr.seq_id = req_seq\n    xhr.id = req_seq + ': ' + options.method + ' ' + options.uri\n    xhr._id = xhr.id // I know I will type \"_id\" from habit all the time.\n\n    if(is_cors && !supports_cors) {\n        // This should never happen in our app\n        var cors_err = new Error('Browser does not support cross-origin request: ' + options.uri);\n        cors_err.code = CORS_ERROR_CODE;\n        cors_err.cors = 'unsupported';\n        options.callback(cors_err, xhr);\n        return xhr;\n    }\n\n    xhr.timeoutTimer = setTimeout(too_late, options.timeout)\n    function too_late() {\n        timed_out = true\n        var er = new Error('ETIMEDOUT')\n        er.code = 'ETIMEDOUT'\n        er.duration = options.timeout\n\n        request.log.error('Timeout', { 'id':xhr._id, 'milliseconds':options.timeout })\n        return options.callback(er, xhr)\n    }\n\n    // Some states can be skipped over, so remember what is still incomplete.\n    var did = {'response':false, 'loading':false, 'end':false, 'onStart': false}\n\n    xhr.onreadystatechange = on_state_change\n    xhr.open(options.method, options.uri, true) // asynchronous\n    if (is_cors) {\n        xhr.withCredentials = !! options.withCredentials\n    }\n    (options.encoding === null) && (xhr.responseType = \"arraybuffer\");\n    xhr.send(options.body)\n    return xhr\n\n    function on_state_change(event) {\n        if(timed_out)\n            return request.log.debug('Ignoring timed out state change', {'state':xhr.readyState, 'id':xhr.id})\n\n        request.log.debug('State change', {'state':xhr.readyState, 'id':xhr.id, 'timed_out':timed_out})\n\n        if(xhr.readyState === XHR.OPENED) {\n            request.log.debug('Request started', { 'id': xhr.id });\n\n            var cookies = [],\n                onInvalidHeader = function (key, error) {\n                    error = new Error(`Header \"${key}\" contains invalid characters`);\n\n                    // Do not process this request further.\n                    did.response = true\n                    did.loading = true\n                    did.end = true\n\n                    options.callback(error, xhr)\n                };\n\n            for (var key in options.headers) {\n                if (!options.headers.hasOwnProperty(key)) {\n                    continue;\n                }\n\n                // Save all the cookies and add at the end because\n                if (String(key).toLowerCase() === 'cookie') {\n                    cookies.push(options.headers[key]);\n                    continue;\n                }\n\n                try {\n                    if (Array.isArray(options.headers[key])) {\n                        _.forEach(options.headers[key], function (eachValue) {\n                            xhr.setRequestHeader(key, eachValue);\n                        });\n                    }\n                    else {\n                        xhr.setRequestHeader(key, options.headers[key]);\n                    }\n                } catch (error) {\n                    onInvalidHeader(key, error)\n                }\n            }\n\n            // Add `Cookie` header if cookies are present\n            if (cookies.length || options.cookiesFromJar) {\n                try {\n                    var cookieString = cookies.join('; ') + (options.cookiesFromJar || '');\n\n                    xhr.setRequestHeader('Cookie', cookieString);\n                    // Also add update the original request header for console logs\n                    originalRequest.headers.upsert({\n                        key: 'Cookie',\n                        value: cookieString\n                    });\n                } catch (error) {\n                    onInvalidHeader('Cookie', error)\n                }\n            }\n        }\n\n        else if(xhr.readyState === XHR.HEADERS_RECEIVED)\n            on_response()\n\n        else if(xhr.readyState === XHR.LOADING) {\n            on_response()\n            on_loading()\n        }\n\n        else if(xhr.readyState === XHR.DONE) {\n            on_response()\n            on_loading()\n            on_end()\n        }\n    }\n\n    function on_response() {\n        if(did.response)\n            return\n\n        did.response = true\n        request.log.debug('Got response', {'id':xhr.id, 'status':xhr.status})\n        clearTimeout(xhr.timeoutTimer)\n        xhr.statusCode = xhr.status // Node request compatibility\n\n        // Construct postman-request compatible debug object\n        !xhr.request && (xhr.request = {});\n\n        xhr.request._debug = xhr._debugData || [{\n            request: {\n                method: options.method,\n                href: options.uri,\n                headers: originalRequest.headers.toJSON(),\n                httpVersion: '1.1'\n            },\n            response: {\n                statusCode: xhr.statusCode,\n                headers: parseHeadersString(xhr.getAllResponseHeaders()),\n                httpVersion: '1.1'\n            }\n        }];\n\n        if (xhr.statusCode === 0 && xhr._error) {\n            // Do not process this request further.\n            did.loading = true\n            did.end = true\n\n            return options.callback(xhr._error, xhr);\n        }\n\n        // Detect mixed content failure\n        if (xhr.statusCode === 0 && is_mixedContent(options.uri)) {\n            var mixedContent_err = new Error('Mixed Content request rejected: ' + options.uri);\n            mixedContent_err.code = MIXED_CONTENT_ERROR_CODE;\n\n            // Do not process this request further.\n            did.loading = true\n            did.end = true\n\n            return options.callback(mixedContent_err, xhr)\n        }\n\n        // Detect failed CORS requests.\n        if(is_cors && xhr.statusCode == 0) {\n            var cors_err = new Error('CORS request rejected: ' + options.uri);\n            cors_err.code = CORS_ERROR_CODE;\n            cors_err.cors = 'rejected';\n\n            // Do not process this request further.\n            did.loading = true\n            did.end = true\n\n            return options.callback(cors_err, xhr)\n        }\n\n        function done () {\n            // Trigger onStart before callback\n            did.onStart = true\n            options.onStart(xhr)\n\n            options.onResponse(null, xhr)\n\n            // Due to the weird dependency of `onStart` and `callback` order,\n            // we ensure that callback is not called before onStart.\n            // This happens only if we are waiting for cookies to be added into the cookie jar.\n            typeof did.callback === 'function' && did.callback();\n        }\n\n        // We are all done here if the cookie jar is not available\n        if (!(typeof (options.jar && options.jar.setCookie) === 'function')) {\n            return done();\n        }\n\n        // Add cookies into the jar\n\n        var addCookie = function (cookie, cb) {\n                options.jar.setCookie(cookie, options.uri, {ignoreError: true}, function () {\n                  cb()\n                })\n            },\n            getSetCookieHeaders = function (headersString) {\n                var cookies = [];\n\n                (parseHeadersString(headersString) || []).filter(function (header) {\n                    if (String(header && header.key).toLowerCase() === 'set-cookie') {\n                        cookies.push(header.value);\n                    }\n                });\n\n                return cookies;\n            },\n            cookies = getSetCookieHeaders(xhr.getAllResponseHeaders());\n\n        if (!(cookies && cookies.length)) {\n            return done();\n        }\n\n        forEachAsync(cookies, addCookie, function () {\n            done()\n        })\n    }\n\n    function on_loading() {\n        if(did.loading)\n            return\n\n        did.loading = true\n        request.log.debug('Response body loading', {'id':xhr.id})\n        // TODO: Maybe simulate \"data\" events by watching xhr.responseText\n    }\n\n    function on_end() {\n        if(did.end)\n            return\n\n        did.end = true\n        request.log.debug('Request done', {'id':xhr.id})\n\n        xhr.body = (options.encoding === null) ? xhr.response : xhr.responseText;\n        if(options.json) {\n            try {\n                xhr.body = (xhr.responseText) ? JSON.parse(xhr.responseText) : xhr.responseText;\n            }\n            catch (er) {\n                return options.callback(er, xhr)\n            }\n        }\n\n        // Call the final callback if `onStart` is already called\n        if (did.onStart) {\n            options.callback(null, xhr, xhr.body, xhr.request && xhr.request._debug)\n        }\n        // otherwise, save the callback which will be triggered later in the `done` function\n        else {\n            did.callback = options.callback.bind(this, null, xhr, xhr.body, xhr.request && xhr.request._debug)\n        }\n    }\n\n} // request\n\nrequest.withCredentials = false;\nrequest.DEFAULT_TIMEOUT = DEFAULT_TIMEOUT;\n\nvar shortcuts = [\n    'get',\n    'post',\n    'put',\n    'head',\n    'del',\n    'options',\n    'trace',\n    'copy',\n    'lock',\n    'mkcol',\n    'move',\n    'purge',\n    'propfind',\n    'proppatch',\n    'unlock',\n    'report',\n    'mkactivity',\n    'checkout',\n    'merge',\n    'm-search',\n    'notify',\n    'subscribe',\n    'unsubscribe',\n    'patch',\n    'search'\n];\nvar shortcutsToMethods = {\n    'del': 'delete'\n};\n\n//\n// defaults\n//\n\nrequest.defaults = function(options, requester) {\n    var def = function (method) {\n        var d = function (params, callback) {\n            if(typeof params === 'string')\n                params = {'uri': params};\n            else {\n                params = JSON.parse(JSON.stringify(params));\n            }\n            for (var i in options) {\n                if (params[i] === undefined) params[i] = options[i]\n            }\n            return method(params, callback)\n        }\n        return d\n    }\n    var de = def(request)\n    shortcuts.forEach(function (method) {\n        de[method] = def(request[method])\n    })\n    return de\n}\n\n//\n// HTTP method shortcuts\n//\n\nshortcuts.forEach(function(shortcut) {\n    var method = shortcutsToMethods[shortcut] || shortcut;\n    method     = method.toUpperCase();\n    var func   = shortcut.toLowerCase();\n\n    request[func] = function(opts) {\n        if(typeof opts === 'string')\n            opts = {'method':method, 'uri':opts};\n        else {\n            opts = JSON.parse(JSON.stringify(opts));\n            opts.method = method;\n        }\n\n        var args = [opts].concat(Array.prototype.slice.apply(arguments, [1]));\n        return request.apply(this, args);\n    }\n})\n\n//\n// CouchDB shortcut\n//\n\nrequest.couch = function(options, callback) {\n    if(typeof options === 'string')\n        options = {'uri':options}\n\n    // Just use the request API to do JSON.\n    options.json = true\n    if(options.body)\n        options.json = options.body\n    delete options.body\n\n    callback = callback || noop\n\n    var xhr = request(options, couch_handler)\n    return xhr\n\n    function couch_handler(er, resp, body) {\n        if(er)\n            return callback(er, resp, body)\n\n        if((resp.statusCode < 200 || resp.statusCode > 299) && body.error) {\n            // The body is a Couch JSON object indicating the error.\n            er = new Error('CouchDB error: ' + (body.error.reason || body.error.error))\n            for (var key in body)\n                er[key] = body[key]\n            return callback(er, resp, body);\n        }\n\n        return callback(er, resp, body);\n    }\n}\n\n//\n// Utility\n//\n\nfunction noop() {}\n\nfunction getLogger() {\n    var logger = {}\n        , levels = ['trace', 'debug', 'info', 'warn', 'error']\n        , level, i\n\n    for(i = 0; i < levels.length; i++) {\n        level = levels[i]\n\n        logger[level] = noop\n        if(typeof console !== 'undefined' && console && console[level])\n            logger[level] = formatted(console, level)\n    }\n\n    return logger\n}\n\nfunction formatted(obj, method) {\n    return formatted_logger\n\n    function formatted_logger(str, context) {\n        if(typeof context === 'object')\n            str += ' ' + JSON.stringify(context)\n\n        return obj[method].call(obj, str)\n    }\n}\n\nfunction window_location () {\n    // jQuery #8138, IE may throw an exception when accessing\n    // a field from window.location if document.domain has been set\n    var ajaxLocation\n    try { ajaxLocation = location.href }\n    catch (e) {\n        // Use the href attribute of an A element since IE will modify it given document.location\n        ajaxLocation = document.createElement( \"a\" );\n        ajaxLocation.href = \"\";\n        ajaxLocation = ajaxLocation.href;\n    }\n\n    return ajaxLocation\n}\n\n// Return whether a URL is a cross-domain request.\nfunction is_crossDomain(url) {\n    var rurl = /^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/\n        , ajaxLocation = window_location()\n        , ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || []\n        , parts = rurl.exec(url.toLowerCase() )\n\n    var result = !!(\n        parts &&\n        (  parts[1] != ajaxLocParts[1]\n            || parts[2] != ajaxLocParts[2]\n            || (parts[3] || (parts[1] === \"http:\" ? 80 : 443)) != (ajaxLocParts[3] || (ajaxLocParts[1] === \"http:\" ? 80 : 443))\n        )\n    )\n\n    //console.debug('is_crossDomain('+url+') -> ' + result)\n    return result\n}\n\nfunction is_mixedContent (url) {\n    var rurl = /^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/\n        , ajaxLocation = window_location()\n        , ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || []\n        , parts = rurl.exec(url.toLowerCase() )\n\n    return parts[1] != ajaxLocParts[1] && !IS_LOCALHOST[parts[2]]\n}\n\n// MIT License from http://phpjs.org/functions/base64_encode:358\nfunction b64_enc (data) {\n    // Encodes string using MIME base64 algorithm\n    var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc=\"\", tmp_arr = [];\n\n    if (!data) {\n        return data;\n    }\n\n    // assume utf8 data\n    // data = this.utf8_encode(data+'');\n\n    do { // pack three octets into four hexets\n        o1 = data.charCodeAt(i++);\n        o2 = data.charCodeAt(i++);\n        o3 = data.charCodeAt(i++);\n\n        bits = o1<<16 | o2<<8 | o3;\n\n        h1 = bits>>18 & 0x3f;\n        h2 = bits>>12 & 0x3f;\n        h3 = bits>>6 & 0x3f;\n        h4 = bits & 0x3f;\n\n        // use hexets to index into b64, and append result to encoded string\n        tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n    } while (i < data.length);\n\n    enc = tmp_arr.join('');\n\n    switch (data.length % 3) {\n        case 1:\n            enc = enc.slice(0, -2) + '==';\n            break;\n        case 2:\n            enc = enc.slice(0, -1) + '=';\n            break;\n    }\n\n    return enc;\n}\n\n// Check if given header name is forbidden i.e, cannot be modified programmatically.\n// Refer: https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name\n// @note The User-Agent header is no longer forbidden. However,\n// Chrome will silently drop the header: https://bugs.chromium.org/p/chromium/issues/detail?id=571722\nfunction isForbiddenHeader (headerName) {\n    headerName = String(headerName).toLowerCase();\n\n    return FORBIDDEN_HEADERS[headerName] ||\n        headerName.startsWith('proxy-') ||\n        headerName.startsWith('sec-');\n}\n\n// ensure that the .jar() function is available\nrequest.jar = _.noop;\n\nmodule.exports = request;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}